window.Attacklab=window.Attacklab||{};window.Attacklab.showdown=window.Attacklab.showdown||{};
window.Attacklab.showdown.converter=function(){var d,g,m,q=0;this.makeHtml=function(a){d=[];g=[];m=[];a=a.replace(/~/g,"~T");a=a.replace(/\$/g,"~D");a=a.replace(/\r\n/g,"\n");a=a.replace(/\r/g,"\n");a=A("\n\n"+a+"\n\n");a=a.replace(/^[ \t]+$/mg,"");a=r(a);a=i(a);a=o(a);a=B(a);a=a.replace(/~D/g,"$$");return a=a.replace(/~T/g,"~")};var i=function(a){return a.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(a,k,h,b,c){k=k.toLowerCase();
d[k]=C(h);if(b)return b+c;else c&&(g[k]=c.replace(/"/g,"&quot;"));return""})},r=function(a){a=a.replace(/\n/g,"\n\n");a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,f);a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,f);a=a.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,f);a=a.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,
f);a=a.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,f);return a=a.replace(/\n\n/g,"\n")},f=function(a,h){var b;b=h.replace(/\n\n/g,"\n");b=b.replace(/^\n/,"");b=b.replace(/\n+$/g,"");return b="\n\n~K"+(m.push(b)-1)+"K\n\n"},o=function(k){for(var k=j(k),b=h("<hr />"),k=k.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,b),k=k.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,b),k=k.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,b),k=l(k),k=n(k),k=u(k),k=r(k),k=k.replace(/^\n+/g,""),k=k.replace(/\n+$/g,
""),c=k.split(/\n{2,}/g),b=[],e=c.length,k=0;k<e;k++){var d=c[k];d.search(/~K(\d+)K/g)>=0?b.push(d):d.search(/\S/)>=0&&(d=a(d),d=d.replace(/^([ \t]*)/g,"<p>"),d+="</p>",b.push(d))}e=b.length;for(k=0;k<e;k++)for(;(c=/~K(\d+)K/.exec(b[k]))!==null;)c=m[c[1]],c=c.replace(/\$/g,"$$$$"),b[k]=b[k].replace(/~K\d+K/,c);return k=b.join("\n\n")},a=function(a){a=p(a);a=c(a);a=a.replace(/\\(\\)/g,x);a=a.replace(/\\([`*_{}\[\]()>#+-.!])/g,x);a=y(a);a=a.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,b);
a=a.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,b);a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,e);a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,e);a=a.replace(/(\[([^\[\]]+)\])()()()()()/g,e);a=C(a);a=a.replace(/(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\1/g,"<strong>$2</strong>");a=a.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>");return a=a.replace(/\n/g," <br>\n")},c=function(a){return a=
a.replace(/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi,function(a){a=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return a=v(a,"\\`*_")})},e=function(a,b,h,c,e,j,p,t){t===void 0&&(t="");a=c.toLowerCase();if(e=="")if(a==""&&(a=h.toLowerCase().replace(/ ?\n/g," ")),d[a]!==void 0)e=d[a],g[a]!==void 0&&(t=g[a]);else if(b.search(/\(\s*\)$/m)>-1)e="";else return b;e=v(e,"*_");b='<a href="'+e+'"';t!=""&&(t=t.replace(/"/g,"&quot;"),t=v(t,"*_"),b+=' title="'+t+'"');b+=">"+h+"</a>";return b},b=function(a,
b,h,c,e,j,t,p){a=h;c=c.toLowerCase();p||(p="");if(e=="")if(c==""&&(c=a.toLowerCase().replace(/ ?\n/g," ")),d[c]!==void 0)e=d[c],g[c]!==void 0&&(p=g[c]);else return b;a=a.replace(/"/g,"&quot;");e=v(e,"*_");b='<img src="'+e+'" alt="'+a+'"';p=p.replace(/"/g,"&quot;");p=v(p,"*_");b+=' title="'+p+'"';b+=" />";return b},j=function(b){b=b.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(b,c){return h("<h2>"+a(c)+"</h2>")});b=b.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(b,c){return h("<h3>"+a(c)+"</h3>")});
return b=b.replace(/^(\#{1,5})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(b,c,e){b=c.length+1;return h("<h"+b+">"+a(e)+"</h"+b+">")})},w,l=function(a){a+="~0";var b=/^(([ ]{0,3}([*+\-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+\-]|\d+[.])[ \t]+)))/gm;q?a=a.replace(b,function(a,b,h){a=b;h=h.search(/[*+\-]/g)>-1?"ul":"ol";a=a.replace(/\n{2,}/g,"\n\n\n");a=w(a);a=a.replace(/\s+$/,"");return"<"+h+">"+a+"</"+h+">\n"}):(b=/(\n\n|^\n?)(([ ]{0,3}([*+\-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+\-]|\d+[.])[ \t]+)))/g,
a=a.replace(b,function(a,b,h,c){a=h;c=c.search(/[*+\-]/g)>-1?"ul":"ol";a=a.replace(/\n{2,}/g,"\n\n\n");a=w(a);return b+"<"+c+">\n"+a+"</"+c+">\n"}));return a=a.replace(/~0/,"")};w=function(b){q++;b=b.replace(/\n{2,}$/,"\n");b+="~0";b=b.replace(/(\n)?(^[ \t]*)([*+\-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+\-]|\d+[.])[ \t]+))/gm,function(b,h,c,e,d){b=d;h||b.search(/\n{2,}/)>-1?b=o(z(b)):(b=l(z(b)),b=b.replace(/\n$/,""),b=a(b));return"<li>"+b+"</li>\n"});b=b.replace(/~0/g,"");q--;return b};var n=
function(a){a+="~0";a=a.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(a,b,c){a=s(z(b));a=A(a);a=a.replace(/^\n+/g,"");a=a.replace(/\n+$/g,"");return h("<pre><code>"+a+"\n</code></pre>")+c});return a=a.replace(/~0/,"")},h=function(a){a=a.replace(/(^\n+|\n+$)/g,"");return"\n\n~K"+(m.push(a)-1)+"K\n\n"},p=function(a){return a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(a,b,h,c){a=c.replace(/^([ \t]*)/g,"");a=a.replace(/[ \t]*$/g,"");a=s(a);return b+
"<code>"+a+"</code>"})},s=function(a){a=a.replace(/&/g,"&amp;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");return a=v(a,"*_{}[]\\",!1)},u=function(a){return a=a.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,b){var c;c=b.replace(/^[ \t]*>[ \t]?/gm,"~0");c=c.replace(/~0/g,"");c=c.replace(/^[ \t]+$/gm,"");c=o(c);c=c.replace(/(^|\n)/g,"$1  ");c=c.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var c;c=b.replace(/^[ ]{2}/mg,"~0");return c=c.replace(/~0/g,"")});return h("<blockquote>\n"+
c+"\n</blockquote>")})},C=function(a){a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;");return a=a.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},y=function(a){a=a.replace(/<?((https?|ftp|dict):[^'">\s]+)>?/gi,'<a href="$1">$1</a>');return a=a.replace(/<(?:mailto:)?([\-.\w]+\@[\-a-z0-9]+(\.[\-a-z0-9]+)*\.[a-z]+)>/gi,function(a,b){return t(B(b))})},t=function(a){var b=[function(a){return"&#"+a.charCodeAt(0)+";"},function(a){a=a.charCodeAt(0);return"&#x"+("0123456789ABCDEF".charAt(a>>4)+"0123456789ABCDEF".charAt(a&
15))+";"},function(a){return a}],a=("mailto:"+a).replace(/./g,function(a){if(a=="@")a=b[Math.floor(Math.random()*2)](a);else if(a!=":")var c=Math.random(),a=c>0.9?b[2](a):c>0.45?b[1](a):b[0](a);return a});return a=('<a href="'+a+'">'+a+"</a>").replace(/">.+:/g,'">')},B=function(a){return a=a.replace(/~E(\d+)E/g,function(a,b){var c=parseInt(b,10);return String.fromCharCode(c)})},z=function(a){a=a.replace(/^(\t|[ ]{1,4})/gm,"~0");return a=a.replace(/~0/g,"")},A=function(a){a=a.replace(/\t(?=\t)/g,"    ");
a=a.replace(/\t/g,"~A~B");a=a.replace(/~B(.+?)~A/g,function(a,b){for(var c=b,h=4-c.length%4,e=0;e<h;e++)c+=" ";return c});a=a.replace(/~A/g,"    ");return a=a.replace(/~B/g,"")},v=function(a,b,c){b="(["+b.replace(/([\[\]\\])/g,"\\$1")+"])";c&&(b="\\\\"+b);return a=a.replace(RegExp(b,"g"),x)},x=function(a,b){return"~E"+b.charCodeAt(0)+"E"}};window.Showdown=window.Attacklab.showdown;window.Attacklab.fileLoaded&&window.Attacklab.fileLoaded("showdown.js");var Attacklab=Attacklab||{};
Attacklab.wmdBase=function(){var d=top.Attacklab,g=top.document,m=top.RegExp,q=top.navigator;d.Util={};d.Position={};d.Command={};d.Global={};var i=d.Util,r=d.Position,f=d.Command,o=d.Global;o.isIE=/msie/.test(q.userAgent.toLowerCase());o.isIE_5or6=/msie 6/.test(q.userAgent.toLowerCase())||/msie 5/.test(q.userAgent.toLowerCase());o.isIE_7plus=o.isIE&&!o.isIE_5or6;o.isOpera=/opera/.test(q.userAgent.toLowerCase());o.isKonqueror=/konqueror/.test(q.userAgent.toLowerCase());d.PanelCollection=function(){this.buttonBar=
g.getElementById("wmd-button-bar");this.preview=g.getElementById("wmd-preview");this.output=g.getElementById("wmd-output");this.input=g.getElementById("wmd-input")};d.panels=void 0;d.ieCachedRange=null;d.ieRetardedClick=!1;i.isVisible=function(a){for(;a&&a.parentNode;){if(a.style.display=="none"||a.style.visibility=="hidden")return!1;a=a.parentNode}return!0};i.addEvent=function(a,c,e){a.attachEvent?a.attachEvent("on"+c,e):a.addEventListener(c,e,!1)};i.removeEvent=function(a,c,e){a.detachEvent?a.detachEvent("on"+
c,e):a.removeEventListener(c,e,!1)};i.fixEolChars=function(a){a=a.replace(/\r\n/g,"\n");return a=a.replace(/\r/g,"\n")};i.extendRegExp=function(a,c,e){if(c===null||c===void 0)c="";if(e===null||e===void 0)e="";var a=a.toString(),b="",b=a.match(/\/([gim]*)$/),b=b===null?b[0]:"",a=a.replace(/(^\/|\/[gim]*$)/g,"");return RegExp(c+a+e,b)};i.createImage=function(a){var a="images/"+a,c=g.createElement("img");c.className="wmd-button";c.src=a;return c};i.prompt=function(a,c,e){var b,d,f;c===void 0&&(c="");
var l=function(a){(a.charCode||a.keyCode)===27&&n(!0)},n=function(a){i.removeEvent(g.body,"keydown",l);var c=f.value;a?c=null:(c=c.replace("http://http://","http://"),c=c.replace("http://https://","https://"),c=c.replace("http://ftp://","ftp://"),c.indexOf("http://")===-1&&c.indexOf("ftp://")===-1&&c.indexOf("https://")===-1&&(c="http://"+c));b.parentNode.removeChild(b);d.parentNode.removeChild(d);e(c);return!1},h=function(){b=g.createElement("div");b.className="wmd-prompt-dialog";b.style.padding=
"10px;";b.style.position="fixed";b.style.width="400px";b.style.zIndex="1001";var h=g.createElement("div");h.innerHTML=a;h.style.padding="10px";b.appendChild(h);h=g.createElement("form");h.onsubmit=function(){return n(!1)};style=h.style;style.padding="0";style.margin="0";style.cssFloat="left";style.width="100%";style.textAlign="center";style.position="relative";b.appendChild(h);f=g.createElement("input");f.type="text";f.value=c;style=f.style;style.display="block";style.width="80%";style.marginLeft=
style.marginRight="auto";h.appendChild(f);var e=g.createElement("input");e.type="button";e.onclick=function(){return n(!1)};e.value="OK";style=e.style;style.margin="10px";style.display="inline";style.width="7em";var d=g.createElement("input");d.type="button";d.onclick=function(){return n(!0)};d.value="Cancel";style=d.style;style.margin="10px";style.display="inline";style.width="7em";/mac/.test(q.platform.toLowerCase())?(h.appendChild(d),h.appendChild(e)):(h.appendChild(e),h.appendChild(d));i.addEvent(g.body,
"keydown",l);b.style.top="50%";b.style.left="50%";b.style.display="block";if(o.isIE_5or6)b.style.position="absolute",b.style.top=g.documentElement.scrollTop+200+"px",b.style.left="50%";g.body.appendChild(b);b.style.marginTop=-(r.getHeight(b)/2)+"px";b.style.marginLeft=-(r.getWidth(b)/2)+"px"};(function(){d=g.createElement("div");d.className="wmd-prompt-background";style=d.style;style.position="absolute";style.top="0";style.zIndex="1000";o.isKonqueror?style.backgroundColor="transparent":o.isIE?style.filter=
"alpha(opacity=50)":style.opacity="0.5";var a=r.getPageSize();style.height=a[1]+"px";o.isIE?(style.left=g.documentElement.scrollLeft,style.width=g.documentElement.clientWidth):(style.left="0",style.width="100%");g.body.appendChild(d)})();top.setTimeout(function(){h();var a=c.length;if(f.selectionStart!==void 0)f.selectionStart=0,f.selectionEnd=a;else if(f.createTextRange){var b=f.createTextRange();b.collapse(!1);b.moveStart("character",-a);b.moveEnd("character",a);b.select()}f.focus()},0)};r.getTop=
function(a,c){var e=a.offsetTop;if(!c)for(;a=a.offsetParent;)e+=a.offsetTop;return e};r.getHeight=function(a){return a.offsetHeight||a.scrollHeight};r.getWidth=function(a){return a.offsetWidth||a.scrollWidth};r.getPageSize=function(){var a,c,e,b;self.innerHeight&&self.scrollMaxY?(a=g.body.scrollWidth,c=self.innerHeight+self.scrollMaxY):g.body.scrollHeight>g.body.offsetHeight?(a=g.body.scrollWidth,c=g.body.scrollHeight):(a=g.body.offsetWidth,c=g.body.offsetHeight);if(self.innerHeight)e=self.innerWidth,
b=self.innerHeight;else if(g.documentElement&&g.documentElement.clientHeight)e=g.documentElement.clientWidth,b=g.documentElement.clientHeight;else if(g.body)e=g.body.clientWidth,b=g.body.clientHeight;return[Math.max(a,e),Math.max(c,b),e,b]};d.inputPoller=function(a,c){var e=this,b=d.panels.input,j,f,g,n;this.tick=function(){if(i.isVisible(b)){if(b.selectionStart||b.selectionStart===0){var a=b.selectionStart,c=b.selectionEnd;if(a!=j||c!=f)if(j=a,f=c,g!=b.value)return g=b.value,!0}return!1}};this.destroy=
function(){top.clearInterval(n)};n=top.setInterval(function(){i.isVisible(b)&&e.tick()&&a()},c)};d.undoManager=function(a){var c=this,e=[],b=0,j="none",f,g,n,h,p=function(a,b){j!=a&&(j=a,b||u());!o.isIE||j!="moving"?n=top.setTimeout(s,1):h=null},s=function(){h=new d.TextareaState;g.tick();n=void 0};this.setCommandMode=function(){j="command";u();n=top.setTimeout(s,0)};this.canUndo=function(){return b>1};this.canRedo=function(){if(e[b+1])return!0;return!1};this.undo=function(){c.canUndo()&&(f?(f.restore(),
f=null):(e[b]=new d.TextareaState,e[--b].restore(),a&&a()));j="none";d.panels.input.focus();s()};this.redo=function(){c.canRedo()&&(e[++b].restore(),a&&a());j="none";d.panels.input.focus();s()};var u=function(){var c=h||new d.TextareaState;if(!c)return!1;j=="moving"?f||(f=c):(f&&(e[b-1].text!=f.text&&(e[b++]=f),f=null),e[b++]=c,e[b+1]=null,a&&a())},m=function(a){var b=!1;if(a.ctrlKey||a.metaKey)switch(String.fromCharCode(a.charCode||a.keyCode)){case "y":c.redo();b=!0;break;case "z":a.shiftKey?c.redo():
c.undo(),b=!0}if(b&&(a.preventDefault&&a.preventDefault(),top.event))top.event.returnValue=!1},r=function(a){if(!a.ctrlKey&&!a.metaKey)a=a.keyCode,a>=33&&a<=40||a>=63232&&a<=63235?p("moving"):a==8||a==46||a==127?p("deleting"):a==13?p("newlines"):a==27?p("escape"):(a<16||a>20)&&a!=91&&p("typing")};this.destroy=function(){g&&g.destroy()};(function(){i.addEvent(d.panels.input,"keypress",function(a){(a.ctrlKey||a.metaKey)&&(a.keyCode==89||a.keyCode==90)&&a.preventDefault()});var a=function(){if((o.isIE||
h&&h.text!=d.panels.input.value)&&n==void 0)j="paste",u(),s()};g=new d.inputPoller(a,100);i.addEvent(d.panels.input,"keydown",m);i.addEvent(d.panels.input,"keydown",r);i.addEvent(d.panels.input,"mousedown",function(){p("moving")});d.panels.input.onpaste=a;d.panels.input.ondrop=a})();s();u()};d.editor=function(a){a||(a=function(){});var c=d.panels.input,e=this,b,j=function(h){c.focus();if(h.textOp){b&&b.setCommandMode();var j=new d.TextareaState;if(!j)return;var f=j.getChunks(),g=function(){c.focus();
f&&j.setChunks(f);j.restore();a()};h.textOp(f,g,!0)||g()}h.execute&&h.execute(e)},w=function(){b&&(l(document.getElementById("wmd-undo-button"),b.canUndo()),l(document.getElementById("wmd-redo-button"),b.canRedo()))},l=function(a,b){if(b){a.style.backgroundPosition=a.XShift+" 0px";a.onmouseover=function(){this.style.backgroundPosition=this.XShift+" -40px"};a.onmouseout=function(){this.style.backgroundPosition=this.XShift+" 0px"};if(o.isIE)a.onmousedown=function(){d.ieRetardedClick=!0;d.ieCachedRange=
document.selection.createRange()};if(!a.isHelp)a.onclick=function(){if(this.onmouseout)this.onmouseout();j(this);return!1}}else a.style.backgroundPosition=a.XShift+" -20px",a.onmouseover=a.onmouseout=a.onclick=function(){}},n=function(){var a=document.getElementById("wmd-button-bar"),b=document.createElement("ul");b.id="wmd-button-row";b=a.appendChild(b);a=document.createElement("li");a.className="wmd-button";a.id="wmd-bold-button";a.title="Strong <strong> Ctrl+B";a.XShift="0px";a.textOp=f.doBold;
l(a,!0);b.appendChild(a);a=document.createElement("li");a.className="wmd-button";a.id="wmd-italic-button";a.title="Emphasis <em> Ctrl+I";a.XShift="-20px";a.textOp=f.doItalic;l(a,!0);b.appendChild(a);a=document.createElement("li");a.className="wmd-spacer";a.id="wmd-spacer1";b.appendChild(a);a=document.createElement("li");a.className="wmd-button";a.id="wmd-link-button";a.title="Hyperlink <a> Ctrl+L";a.XShift="-40px";a.textOp=function(a,b){return f.doLinkOrImage(a,b,!1)};l(a,!0);b.appendChild(a);a=document.createElement("li");
a.className="wmd-button";a.id="wmd-quote-button";a.title="Blockquote <blockquote> Ctrl+Q";a.XShift="-60px";a.textOp=f.doBlockquote;l(a,!0);b.appendChild(a);a=document.createElement("li");a.className="wmd-button";a.id="wmd-code-button";a.title="Code Sample <pre><code> Ctrl+K";a.XShift="-80px";a.textOp=f.doCode;l(a,!0);b.appendChild(a);a=document.createElement("li");a.className="wmd-button";a.id="wmd-image-button";a.title="Image <img> Ctrl+G";a.XShift="-100px";a.textOp=function(a,b){return f.doLinkOrImage(a,
b,!0)};l(a,!0);b.appendChild(a);a=document.createElement("li");a.className="wmd-spacer";a.id="wmd-spacer2";b.appendChild(a);a=document.createElement("li");a.className="wmd-button";a.id="wmd-olist-button";a.title="Numbered List <ol> Ctrl+O";a.XShift="-120px";a.textOp=function(a,b,c){f.doList(a,b,!0,c)};l(a,!0);b.appendChild(a);a=document.createElement("li");a.className="wmd-button";a.id="wmd-ulist-button";a.title="Bulleted List <ul> Ctrl+U";a.XShift="-140px";a.textOp=function(a,b,c){f.doList(a,b,!1,
c)};l(a,!0);b.appendChild(a);a=document.createElement("li");a.className="wmd-button";a.id="wmd-heading-button";a.title="Heading <h1>/<h2> Ctrl+H";a.XShift="-160px";a.textOp=f.doHeading;l(a,!0);b.appendChild(a);a=document.createElement("li");a.className="wmd-button";a.id="wmd-hr-button";a.title="Horizontal Rule <hr> Ctrl+R";a.XShift="-180px";a.textOp=f.doHorizontalRule;l(a,!0);b.appendChild(a);a=document.createElement("li");a.className="wmd-spacer";a.id="wmd-spacer3";b.appendChild(a);a=document.createElement("li");
a.className="wmd-button";a.id="wmd-undo-button";a.title="Undo - Ctrl+Z";a.XShift="-200px";a.execute=function(a){a.undo()};l(a,!0);b.appendChild(a);a=document.createElement("li");a.className="wmd-button";a.id="wmd-redo-button";a.title="Redo - Ctrl+Y";a.title=/win/.test(q.platform.toLowerCase())?"Redo - Ctrl+Y":"Redo - Ctrl+Shift+Z";a.XShift="-220px";a.execute=function(a){a.redo()};l(a,!0);b.appendChild(a);a=document.createElement("li");a.className="wmd-button";a.id="wmd-help-button";a.XShift="-240px";
a.isHelp=!0;var c=document.createElement("a");c.href="http://en.wikipedia.org/wiki/Markdown";c.target="_blank";c.title="Help with formatting";a.appendChild(c);l(a,!0);b.appendChild(a);w()};this.undo=function(){b&&b.undo()};this.redo=function(){b&&b.redo()};this.destroy=function(){b&&b.destroy();(void 0).parentNode&&(void 0).parentNode.removeChild(void 0);if(c)c.style.marginTop="";top.clearInterval(void 0)};(function(){if(/\?noundo/.test(g.location.href))d.nativeUndo=!0;d.nativeUndo||(b=new d.undoManager(function(){a();
w()}));n();var e="keydown";o.isOpera&&(e="keypress");i.addEvent(c,e,function(a){if(a.ctrlKey||a.metaKey){switch(String.fromCharCode(a.charCode||a.keyCode).toLowerCase()){case "b":j(document.getElementById("wmd-bold-button"));break;case "i":j(document.getElementById("wmd-italic-button"));break;case "l":j(document.getElementById("wmd-link-button"));break;case "q":j(document.getElementById("wmd-quote-button"));break;case "k":j(document.getElementById("wmd-code-button"));break;case "g":j(document.getElementById("wmd-image-button"));
break;case "o":j(document.getElementById("wmd-olist-button"));break;case "u":j(document.getElementById("wmd-ulist-button"));break;case "h":j(document.getElementById("wmd-heading-button"));break;case "r":j(document.getElementById("wmd-hr-button"));break;case "y":j(document.getElementById("wmd-redo-button"));break;case "z":a.shiftKey?j(document.getElementById("wmd-redo-button")):j(document.getElementById("wmd-undo-button"));break;default:return}a.preventDefault&&a.preventDefault();if(top.event)top.event.returnValue=
!1}});i.addEvent(c,"keyup",function(a){if(!a.shiftKey&&!a.ctrlKey&&!a.metaKey&&(a.charCode||a.keyCode)===13)fakeButton={},fakeButton.textOp=f.doAutoindent,j(fakeButton)});o.isIE&&i.addEvent(c,"keydown",function(a){if(a.keyCode===27)return!1});if(c.form){var l=c.form.onsubmit;c.form.onsubmit=function(){if(l)return l.apply(this,arguments)}}})()};d.TextareaState=function(){var a=this,c=d.panels.input;this.init=function(){if(i.isVisible(c)&&(this.setInputAreaSelectionStartEnd(),this.scrollTop=c.scrollTop,
!this.text&&c.selectionStart||c.selectionStart===0))this.text=c.value};this.setInputAreaSelection=function(){if(i.isVisible(c))if(c.selectionStart!==void 0&&!o.isOpera)c.focus(),c.selectionStart=a.start,c.selectionEnd=a.end,c.scrollTop=a.scrollTop;else if(g.selection&&!(g.activeElement&&g.activeElement!==c)){c.focus();var e=c.createTextRange();e.moveStart("character",-c.value.length);e.moveEnd("character",-c.value.length);e.moveEnd("character",a.end);e.moveStart("character",a.start);e.select()}};
this.setInputAreaSelectionStartEnd=function(){if(c.selectionStart||c.selectionStart===0)a.start=c.selectionStart,a.end=c.selectionEnd;else if(g.selection){a.text=i.fixEolChars(c.value);var e;d.ieRetardedClick&&d.ieCachedRange?(e=d.ieCachedRange,d.ieRetardedClick=!1):e=g.selection.createRange();var b=i.fixEolChars(e.text),j="\u0007"+b+"\u0007";e.text=j;var f=i.fixEolChars(c.value);e.moveStart("character",-j.length);e.text=b;a.start=f.indexOf("\u0007");a.end=f.lastIndexOf("\u0007")-1;if(j=a.text.length-
i.fixEolChars(c.value).length){for(e.moveStart("character",-b.length);j--;)b+="\n",a.end+=1;e.text=b}this.setInputAreaSelection()}};this.restore=function(){if(a.text!=void 0&&a.text!=c.value)c.value=a.text;this.setInputAreaSelection();c.scrollTop=a.scrollTop};this.getChunks=function(){var c=new d.Chunks;c.before=i.fixEolChars(a.text.substring(0,a.start));c.startTag="";c.selection=i.fixEolChars(a.text.substring(a.start,a.end));c.endTag="";c.after=i.fixEolChars(a.text.substring(a.end));c.scrollTop=
a.scrollTop;return c};this.setChunks=function(a){a.before+=a.startTag;a.after=a.endTag+a.after;if(o.isOpera)a.before=a.before.replace(/\n/g,"\r\n"),a.selection=a.selection.replace(/\n/g,"\r\n"),a.after=a.after.replace(/\n/g,"\r\n");this.start=a.before.length;this.end=a.before.length+a.selection.length;this.text=a.before+a.selection+a.after;this.scrollTop=a.scrollTop};this.init()};d.Chunks=function(){};d.Chunks.prototype.findTags=function(a,c){var e=this,b;if(a)b=i.extendRegExp(a,"","$"),this.before=
this.before.replace(b,function(a){e.startTag+=a;return""}),b=i.extendRegExp(a,"^",""),this.selection=this.selection.replace(b,function(a){e.startTag+=a;return""});if(c)b=i.extendRegExp(c,"","$"),this.selection=this.selection.replace(b,function(a){e.endTag=a+e.endTag;return""}),b=i.extendRegExp(c,"^",""),this.after=this.after.replace(b,function(a){e.endTag=a+e.endTag;return""})};d.Chunks.prototype.trimWhitespace=function(a){this.selection=this.selection.replace(/^(\s*)/,"");a||(this.before+=m.$1);
this.selection=this.selection.replace(/(\s*)$/,"");if(!a)this.after=m.$1+this.after};d.Chunks.prototype.addBlankLines=function(a,c,e){a===void 0&&(a=1);c===void 0&&(c=1);a++;c++;var b,d;this.selection=this.selection.replace(/(^\n*)/,"");this.startTag+=b?b[1]:"";b=/(\n*$)/.exec(this.selection);this.selection=this.selection.replace(/(\n*$)/,"");this.endTag+=b?b[1]:"";b=/(^\n*)/.exec(this.startTag);this.startTag=this.startTag.replace(/(^\n*)/,"");this.before+=b?b[1]:"";b=/(\n*$)/.exec(this.endTag);this.endTag=
this.endTag.replace(/(\n*$)/,"");this.after+=b?b[1]:"";if(this.before){for(b=d="";a--;)b+="\\n?",d+="\n";e&&(b="\\n*");this.before=this.before.replace(new m(b+"$",""),d)}if(this.after){for(b=d="";c--;)b+="\\n?",d+="\n";e&&(b="\\n*");this.after=this.after.replace(new m(b,""),d)}};f.prefixes="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)";f.unwrap=function(a){var c=new m("([^\\n])\\n(?!(\\n|"+f.prefixes+"))","g");a.selection=a.selection.replace(c,"$1 $2")};f.wrap=function(a,
c){f.unwrap(a);var d=new m("(.{1,"+c+"})( +|$\\n?)","gm");a.selection=a.selection.replace(d,function(a,c){if((new m("^"+f.prefixes,"")).test(a))return a;return c+"\n"});a.selection=a.selection.replace(/\s+$/,"")};f.doBold=function(a){return f.doBorI(a,2,"strong text")};f.doItalic=function(a){return f.doBorI(a,1,"emphasized text")};f.doBorI=function(a,c,d){a.trimWhitespace();a.selection=a.selection.replace(/\n{2,}/g,"\n");a.before.search(/(\**$)/);var b=m.$1;a.after.search(/(^\**)/);var f=m.$1,b=Math.min(b.length,
f.length);if(b>=c&&(b!=2||c!=1))a.before=a.before.replace(m("[*]{"+c+"}$",""),""),a.after=a.after.replace(m("^[*]{"+c+"}",""),"");else if(!a.selection&&f)a.after=a.after.replace(/^([*_]*)/,""),a.before=a.before.replace(/(\s?)$/,""),a.before=a.before+f+m.$1;else{if(!a.selection&&!f)a.selection=d;c=c<=1?"*":"**";a.before+=c;a.after=c+a.after}};f.stripLinkDefs=function(a,c){return a=a.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,function(a,
b,d,f,g){c[b]=a.replace(/\s*$/,"");if(f)return c[b]=a.replace(/["(](.+?)[")]$/,""),f+g;return""})};f.addLinkDef=function(a,c){var d=0,b={};a.before=f.stripLinkDefs(a.before,b);a.selection=f.stripLinkDefs(a.selection,b);a.after=f.stripLinkDefs(a.after,b);var g="",i=/(\[(?:\[[^\]]*\]|[^\[\]])*\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g,l=function(a){d++;a=a.replace(/^[ ]{0,3}\[(\d+)\]:/,"  ["+d+"]:");g+="\n"+a},n=function(a,c,f,g){if(b[f])return l(b[f]),c+d+g;return a};a.before=a.before.replace(i,n);c?l(c):a.selection=
a.selection.replace(i,n);var h=d;a.after=a.after.replace(i,n);if(a.after)a.after=a.after.replace(/\n*$/,"");if(!a.after)a.selection=a.selection.replace(/\n*$/,"");a.after+="\n\n"+g;return h};f.doLinkOrImage=function(a,c,d){a.trimWhitespace();a.findTags(/\s*!?\[/,/\][ ]?(?:\n[ ]*)?(\[.*?\])?/);if(a.endTag.length>1)a.startTag=a.startTag.replace(/!?\[/,""),a.endTag="",f.addLinkDef(a,null);else if(/\n\n/.test(a.selection))f.addLinkDef(a,null);else{var b=function(b){if(b!==null&&(a.startTag=a.endTag="",
b=f.addLinkDef(a," [999]: "+b),a.startTag=d?"![":"[",a.endTag="]["+b+"]",!a.selection))a.selection=d?"description":"link text";c()};d?i.prompt('<h3 style="margin-top:0">Enter the image URL.</h3>',"http://",b):i.prompt('<h3 style="margin-top:0">Enter the web address.</h3>',"http://",b);return!0}};i.makeAPI=function(){d.wmd={};d.wmd.editor=d.editor;d.wmd.previewManager=d.previewManager};i.startEditor=function(){if(d.wmd_env.autostart===!1)i.makeAPI();else{var a;i.addEvent(top,"load",function(){d.panels=
new d.PanelCollection;a=new d.previewManager;new d.editor(a.refresh);a.refresh(!0)})}};d.previewManager=function(){var a=this,c,e,b,f,m,l,n="delayed",h=function(){var a=0;if(top.innerHeight)a=top.pageYOffset;else if(g.documentElement&&g.documentElement.scrollTop)a=g.documentElement.scrollTop;else if(g.body)a=g.body.scrollTop;return a},p=function(){if(d.panels.preview||d.panels.output){var a=d.panels.input.value;if(!(a&&a==m)){m=a;var b=(new Date).getTime();!c&&d.showdown&&(c=new d.showdown.converter);
c&&(a=c.makeHtml(a));f=(new Date).getTime()-b;y(a);l=a}}},s=function(){b&&(top.clearTimeout(b),b=void 0);if(n!=="manual"){var a=0;n==="delayed"&&(a=f);a>3E3&&(a=3E3);b=top.setTimeout(p,a)}},u=function(a){if(a.scrollHeight<=a.clientHeight)return 1;return a.scrollTop/(a.scrollHeight-a.clientHeight)};this.refresh=function(a){a?(m="",p()):s()};this.processingTime=function(){return f};this.output=function(){return l};this.setUpdateMode=function(b){n=b;a.refresh()};var q=!0,y=function(a){var b=r.getTop(d.panels.input)-
h();if(d.panels.output)if(d.panels.output.value!==void 0)d.panels.output.value=a,d.panels.output.readOnly=!0;else{var c=a.replace(/&/g,"&amp;"),c=c.replace(/</g,"&lt;");d.panels.output.innerHTML="<pre><code>"+c+"</code></pre>"}if(d.panels.preview)d.panels.preview.innerHTML=a;if(d.panels.preview)d.panels.preview.scrollTop=(d.panels.preview.scrollHeight-d.panels.preview.clientHeight)*u(d.panels.preview);if(d.panels.output)d.panels.output.scrollTop=(d.panels.output.scrollHeight-d.panels.output.clientHeight)*
u(d.panels.output);if(q)q=!1;else{var e=r.getTop(d.panels.input)-h();o.isIE?top.setTimeout(function(){top.scrollBy(0,e-b)},0):top.scrollBy(0,e-b)}};this.destroy=function(){e&&e.destroy()};(function(a,b){i.addEvent(a,"input",b);a.onpaste=b;a.ondrop=b;i.addEvent(a,"keypress",b);i.addEvent(a,"keydown",b);e=new d.inputPoller(b,500)})(d.panels.input,s);p();if(d.panels.preview)d.panels.preview.scrollTop=0;if(d.panels.output)d.panels.output.scrollTop=0};f.doAutoindent=function(a,c,d){a.before=a.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/,
"\n\n");a.before=a.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/,"\n\n");a.before=a.before.replace(/(\n|^)[ \t]+\n$/,"\n\n");d=!1;/(\n|^)[ ]{0,3}([*+-])[ \t]+.*\n$/.test(a.before)&&f.doList&&f.doList(a,c,!1,!0);/(\n|^)[ ]{0,3}(\d+[.])[ \t]+.*\n$/.test(a.before)&&f.doList&&f.doList(a,c,!0,!0);/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(a.before)&&f.doBlockquote&&f.doBlockquote(a,c,d);/(\n|^)(\t|[ ]{4,}).*\n$/.test(a.before)&&f.doCode&&f.doCode(a,c,d)};f.doBlockquote=function(a,c,e){a.selection=a.selection.replace(/^(\n*)([^\r]+?)(\n*)$/,
function(b,c,d,e){a.before+=c;a.after=e+a.after;return d});a.before=a.before.replace(/(>[ \t]*)$/,function(b,c){a.selection=c+a.selection;return""});c=e?"Blockquote":"";a.selection=a.selection.replace(/^(\s|>)+$/,"");a.selection=a.selection||c;if(a.before)a.before=a.before.replace(/\n?$/,"\n");if(a.after)a.after=a.after.replace(/^\n?/,"\n");a.before=a.before.replace(/(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*$)/,function(b){a.startTag=b;return""});a.after=a.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,
function(b){a.endTag=b;return""});c=function(b){var c=b?"> ":"";if(a.startTag)a.startTag=a.startTag.replace(/\n((>|\s)*)\n$/,function(a,b){return"\n"+b.replace(/^[ ]{0,3}>?[ \t]*$/gm,c)+"\n"});if(a.endTag)a.endTag=a.endTag.replace(/^\n((>|\s)*)\n/,function(a,b){return"\n"+b.replace(/^[ ]{0,3}>?[ \t]*$/gm,c)+"\n"})};if(/^(?![ ]{0,3}>)/m.test(a.selection))f.wrap(a,d.wmd_env.lineLength-2),a.selection=a.selection.replace(/^/gm,"> "),c(!0),a.addBlankLines();else{a.selection=a.selection.replace(/^[ ]{0,3}> ?/gm,
"");f.unwrap(a);c(!1);if(!/^(\n|^)[ ]{0,3}>/.test(a.selection)&&a.startTag)a.startTag=a.startTag.replace(/\n{0,2}$/,"\n\n");if(!/(\n|^)[ ]{0,3}>.*$/.test(a.selection)&&a.endTag)a.endTag=a.endTag.replace(/^\n{0,2}/,"\n\n")}if(!/\n/.test(a.selection))a.selection=a.selection.replace(/^(> *)/,function(b,c){a.startTag+=c;return""})};f.doCode=function(a,c,d){c=/\S[ ]*$/.test(a.before);if(!/^[ ]*\S/.test(a.after)&&!c||/\n/.test(a.selection)){a.before=a.before.replace(/[ ]{4}$/,function(b){a.selection=b+
a.selection;return""});var b=c=1;if(/\n(\t|[ ]{4,}).*\n$/.test(a.before)||a.after==="")c=0;/^\n(\t|[ ]{4,})/.test(a.after)&&(b=0);a.addBlankLines(c,b);a.selection?a.selection=/^[ ]{0,3}\S/m.test(a.selection)?a.selection.replace(/^/gm,"    "):a.selection.replace(/^[ ]{4}/gm,""):(a.startTag="    ",a.selection=d?"enter code here":"")}else if(a.trimWhitespace(),a.findTags(/`/,/`/),!a.startTag&&!a.endTag){if(a.startTag=a.endTag="`",!a.selection)a.selection=d?"enter code here":""}else a.endTag&&!a.startTag?
(a.before+=a.endTag,a.endTag=""):a.startTag=a.endTag=""};f.doList=function(a,c,e,b){var c=/^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/,g="-",i=1,l=function(){var a;e?(a=i+". ",i++):a=g+" ";return a},n=function(a){e===void 0&&(e=/^\s*\d/.test(a));return a=a.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,function(){return l()})};a.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/,null);if(a.before&&!/\n$/.test(a.before)&&!/^\n/.test(a.startTag))a.before+=a.startTag,
a.startTag="";if(a.startTag){var h=/\d+[.]/.test(a.startTag);a.startTag="";a.selection=a.selection.replace(/\n[ ]{4}/g,"\n");f.unwrap(a);a.addBlankLines();if(h)a.after=a.after.replace(c,n);if(e==h)return}var p=1;a.before=a.before.replace(/(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/,function(a){if(/^\s*([*+-])/.test(a))g=m.$1;p=/[^\n]\n\n[^\n]/.test(a)?1:0;return n(a)});if(!a.selection)a.selection=b?"List item":" ";var b=l(),o=1;a.after=a.after.replace(c,
function(a){o=/[^\n]\n\n[^\n]/.test(a)?1:0;return n(a)});a.trimWhitespace(!0);a.addBlankLines(p,o,!0);a.startTag=b;b=b.replace(/./g," ");f.wrap(a,d.wmd_env.lineLength-b.length);a.selection=a.selection.replace(/\n/g,"\n"+b)};f.doHeading=function(a){a.selection=a.selection.replace(/\s+/g," ");a.selection=a.selection.replace(/(^\s+|\s+$)/g,"");if(a.selection){var c=0;a.findTags(/#+[ ]*/,/[ ]*#+/);if(/#+/.test(a.startTag))c=m.lastMatch.length;a.startTag=a.endTag="";a.findTags(null,/\s?(-+|=+)/);/=+/.test(a.endTag)&&
(c=1);/-+/.test(a.endTag)&&(c=2);a.startTag=a.endTag="";a.addBlankLines(1,1);c=c==0?2:c-1;if(c>0){var c=c>=2?"-":"=",e=a.selection.length;if(e>d.wmd_env.lineLength)e=d.wmd_env.lineLength;for(a.endTag="\n";e--;)a.endTag+=c}}else a.startTag="## ",a.selection="Heading",a.endTag=" ##"};f.doHorizontalRule=function(a){a.startTag="----------\n";a.selection="";a.addBlankLines(2,1,!0)}};Attacklab.wmd_env={};Attacklab.account_options={};Attacklab.wmd_defaults={version:1,output:"HTML",lineLength:40,delayLoad:!1};
if(!Attacklab.wmd)Attacklab.wmd=function(){Attacklab.loadEnv=function(){var d=function(d){if(d)for(var m in d)Attacklab.wmd_env[m]=d[m]};d(Attacklab.wmd_defaults);d(Attacklab.account_options);d(top.wmd_options);Attacklab.full=!0;Attacklab.wmd_env.buttons=Attacklab.wmd_env.buttons||"bold italic link blockquote code image ol ul heading hr"};Attacklab.loadEnv()},Attacklab.wmd(),Attacklab.wmdBase(),Attacklab.Util.startEditor();